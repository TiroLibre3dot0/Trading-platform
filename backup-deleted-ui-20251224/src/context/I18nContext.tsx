import { createContext, useContext, useMemo } from "react";
import type { ReactNode } from "react";
import { useLocalStorage } from "../lib/useLocalStorage";

type Locale = "it" | "en" | "es" | "fr" | "de";

type I18nShape = {
  lang: Locale;
  setLang: (lang: Locale) => void;
  t: typeof translations[Locale];
  available: Locale[];
};

const translations = {
  it: {
    nav: {
      markets: "Mercati",
      why: "Perche noi",
      accounts: "Account",
      support: "Supporto",
      profile: "Profilo",
      login: "Login",
      demo: "Prova demo",
      open: "Apri conto",
    },
    hero: {
      badge: "Licenze multi-giurisdizione. Connessione protetta SSL.",
      title: "Naviga i mercati con una piattaforma veloce, trasparente e sicura.",
      subtitle:
        "Accedi a migliaia di strumenti con esecuzione rapida, gestione del rischio integrata e insight in tempo reale. Live e demo sempre a portata di clic.",
      ctaPrimary: "Apri conto live",
      ctaSecondary: "Prova il conto demo",
      metrics: {
        licenses: "Licenze globali",
        deposits: "Commissioni di deposito",
        support: "Supporto umano",
      },
    },
    why: {
      title: "Affidabilita da broker globale, esperienza da app moderna.",
      desc: "Spread trasparenti, protezione saldo negativo, fondi segregati e infrastruttura a bassa latenza. Tutto presentato con un design chiaro e orientato alla conversione.",
      highlights: [
        { label: "+500 strumenti", desc: "Forex, indici, materie prime, crypto" },
        { label: "0 commissioni di deposito", desc: "Trasparenza su costi e spread" },
        { label: "App premiata", desc: "Alert, indicatori, sentiment" },
      ],
    },
    markets: {
      label: "Mercati live",
      title: "Price feed, sentiment e volumi.",
      cta: "Apri la demo",
    },
    accounts: {
      label: "Tipi di conto",
      title: "Scegli il profilo adatto al tuo rischio.",
      cta: "Apri conto",
      items: [
        { name: "Base", price: "Da 100$", spread: "da 1.6", leverage: "1:200", stopOut: "50%", badge: "Ideale per iniziare" },
        { name: "Pro", price: "Da 1.000$", spread: "da 0.8", leverage: "1:400", stopOut: "40%", badge: "Per trader attivi" },
        { name: "ECN", price: "Da 5.000$", spread: "da 0.1", leverage: "1:500", stopOut: "25%", badge: "Accesso raw spread" },
      ],
    },
    demo: {
      label: "Impara senza rischio",
      title: "Demo illimitata con dati real-time.",
      desc: "Allenati con saldo regolabile, indicatori avanzati e alert sui prezzi. Passa a live quando sei pronto mantenendo watchlist e layout.",
      ctaPrimary: "Apri demo",
      ctaSecondary: "Scarica l'app",
    },
    support: {
      label: "Supporto",
      title: "Supporto umano 24/7 e academy.",
      desc: "Chat live, WhatsApp e mail, piu una libreria di guide rapide e video pillole. Alert regolatori e notifiche su mantenimento margine.",
      contact: {
        title: "Contatto rapido",
        lines: ["Chat live con agenti reali", "WhatsApp e email con SLA < 15 min", "Lingue: IT, EN, ES, FR"],
      },
      edu: {
        title: "Formazione",
        lines: ["Accademia con percorsi base/avanzati", "Webinar settimanali e market brief", "Demo illimitata per testare strategie"],
      },
    },
    journey: {
      label: "Percorso rapido",
      title: "Onboarding guidato",
      steps: [
        { id: "verify", title: "Completa verifica", desc: "Carica documento e prova di residenza." },
        { id: "deposit", title: "Effettua un deposito", desc: "Aggiungi fondi con carta o bonifico." },
        { id: "set-alert", title: "Imposta 1 alert prezzo", desc: "Ricevi push quando il mercato si muove." },
        { id: "place-demo", title: "Esegui 1 trade demo", desc: "Testa strategia senza rischio." },
      ],
    },
    retention: {
      title: "Obiettivo personale",
      subtitle: "Mantieni l'abitudine: una micro-azione quotidiana riduce il churn.",
      defaultGoal: "Studia 15 minuti e fai 1 trade demo al giorno",
      streak: "Streak",
      save: "Salva obiettivo",
      reset: "Reset",
      hint: "Suggerimento: imposta un alert prezzo per essere richiamato ogni giorno.",
    },
    nba: {
      title: "Prossime azioni",
      subtitle: "Pensate per la retention",
      actions: [
        { title: "Crea 1 alert prezzo", desc: "Scegli un asset in watchlist e ricevi una notifica push.", cta: "Imposta alert" },
        { title: "Attiva take profit", desc: "Proteggi i profitti sulle posizioni aperte.", cta: "Aggiungi TP" },
        { title: "Segui un corso rapido", desc: "3 lezioni da 5 min per migliorare la strategia.", cta: "Vai all'Academy" },
      ],
    },
    dashboard: {
      overview: "Panoramica conto",
      balance: "Saldo",
      equity: "Equity",
      freeMargin: "Margine libero",
      dailyPL: "P/L giornaliero",
      deposit: "Deposita",
      newOrder: "Nuovo ordine",
      watchlist: "Watchlist",
      add: "Aggiungi",
      positions: "Posizioni aperte",
      closeAll: "Chiudi tutte",
      deposits: "Depositi e prelievi",
      risk: "Gestione rischio",
      activity: "Attivita recente",
    },
    login: {
      pill: "Accesso riservato",
      typing: ["Benvenuto su Bullwaves", "Accesso sicuro", "Email aziendale richiesta"],
      title: "Area riservata",
      subtitle: "Inserisci la tua email di lavoro per continuare. Senza password.",
      emailLabel: "Email di lavoro",
      emailPlaceholder: "you@company.com",
      hint: "Solo email verificate sono accettate.",
      button: "Continua",
      viewList: "Chi puo accedere",
    },
    register: {
      titleLive: "Apri conto live",
      subtitleLive: "Completa pochi campi per iniziare a operare con condizioni trasparenti.",
      titleDemo: "Prova la demo gratuita",
      subtitleDemo: "Saldo virtuale ricaricabile, stessi prezzi del live, nessun rischio.",
      name: "Nome e cognome",
      email: "Email",
      phone: "Telefono (opzionale)",
      country: "Paese di residenza",
      password: "Crea password",
      balance: "Saldo virtuale",
      leverage: "Leva",
      agree: "Accetto termini, privacy e l'avvertenza sui rischi.",
      ctaLive: "Apri conto live",
      ctaDemo: "Apri conto demo",
      altDemo: "Preferisci testare? Passa alla demo",
      altLive: "Pronto a fare sul serio? Apri il live",
      highlightFast: "Apertura rapida e KYC smart",
      highlightProtected: "Fondi separati e protezione saldo negativo",
      highlightSupport: "Assistenza umana 24/7",
      leverageHint: "Riduci la leva per simulare un profilo piu conservativo.",
    },
    profile: {
      kicker: "Area utente",
      title: "Profilo e preferenze",
      subtitle: "Gestisci dati, sicurezza, lingua e compliance in un'unica pagina pensata per il trading giornaliero.",
      goToDashboard: "Torna alla dashboard",
      signOut: "Esci",
      login: "Accedi",
      openAccount: "Apri conto live",
      signedOut: {
        title: "Accedi per vedere il tuo profilo",
        desc: "Collega la tua email di lavoro o accedi con il profilo demo per sbloccare preferenze e sicurezza.",
      },
      identity: {
        label: "Identita",
        tier: "Tier",
        statusVerified: "Verificato",
        streak: "Streak",
        language: "Lingua",
        risk: "Profilo rischio",
        riskValue: "Bilanciato",
        hint: "Aggiorna i dati di contatto e tieni attivo il login giornaliero per mantenere la streak e migliorare la retention.",
      },
      security: {
        label: "Sicurezza",
        title: "Controlli dell'account",
        items: ["2FA attiva su email", "Dispositivi riconosciuti", "Alert login insoliti"],
        cta: "Rivedi sicurezza",
      },
      preferences: {
        label: "Preferenze",
        title: "Notifiche e lingua",
        items: ["Email esecuzioni e margin call", "Push alert prezzi", "Report settimanale via email"],
        hint: "Regola le notifiche per non perdere movimenti chiave senza sovraccaricare la casella.",
      },
      compliance: {
        label: "Compliance",
        title: "Documenti e limiti",
        desc: "Stato KYC, limiti di deposito/prelievo e requisiti regolatori in base alla tua giurisdizione.",
        kyc: "KYC",
        kycValue: "Completato",
        limits: "Limiti",
        limitsValue: "10k/giorno",
      },
      support: {
        label: "Supporto",
        title: "Serve aiuto?",
        desc: "Siamo disponibili via chat live, WhatsApp e email con SLA rapido.",
        cta: "Vai al supporto",
      },
    },
  },
  en: {
    nav: {
      markets: "Markets",
      why: "Why us",
      accounts: "Accounts",
      support: "Support",
      profile: "Profile",
      login: "Login",
      demo: "Try demo",
      open: "Open account",
    },
    hero: {
      badge: "Multi-license. SSL secured.",
      title: "Navigate markets with a fast, transparent and secure platform.",
      subtitle:
        "Access thousands of instruments with fast execution, built-in risk tools and real-time insights. Live and demo always one click away.",
      ctaPrimary: "Open live account",
      ctaSecondary: "Try demo account",
      metrics: {
        licenses: "Global licenses",
        deposits: "Deposit fees",
        support: "Human support",
      },
    },
    why: {
      title: "Global-grade reliability, modern app experience.",
      desc: "Transparent spreads, negative balance protection, segregated funds and low-latency infra. Clear design focused on conversion.",
      highlights: [
        { label: "+500 instruments", desc: "Forex, indices, commodities, crypto" },
        { label: "0 deposit fees", desc: "Transparency on costs and spreads" },
        { label: "Awarded app", desc: "Alerts, indicators, sentiment" },
      ],
    },
    markets: {
      label: "Live markets",
      title: "Price feed, sentiment and volumes.",
      cta: "Open demo",
    },
    accounts: {
      label: "Account types",
      title: "Pick the profile that matches your risk.",
      cta: "Open account",
      items: [
        { name: "Base", price: "From $100", spread: "from 1.6", leverage: "1:200", stopOut: "50%", badge: "Great to start" },
        { name: "Pro", price: "From $1,000", spread: "from 0.8", leverage: "1:400", stopOut: "40%", badge: "For active traders" },
        { name: "ECN", price: "From $5,000", spread: "from 0.1", leverage: "1:500", stopOut: "25%", badge: "Raw spread access" },
      ],
    },
    demo: {
      label: "Learn risk-free",
      title: "Unlimited demo with real-time data.",
      desc: "Practice with adjustable balance, advanced indicators and price alerts. Switch to live keeping your layouts and watchlists.",
      ctaPrimary: "Open demo",
      ctaSecondary: "Download app",
    },
    support: {
      label: "Support",
      title: "Human support 24/7 and academy.",
      desc: "Live chat, WhatsApp and email plus quick guides and video bites. Reg alerts and margin maintenance notifications.",
      contact: {
        title: "Fast contact",
        lines: ["Live chat with humans", "WhatsApp and email SLA < 15 min", "Languages: IT, EN, ES, FR"],
      },
      edu: {
        title: "Education",
        lines: ["Academy with beginner/advanced tracks", "Weekly webinars and market briefs", "Unlimited demo to test strategies"],
      },
    },
    journey: {
      label: "Quick path",
      title: "Guided onboarding",
      steps: [
        { id: "verify", title: "Complete verification", desc: "Upload ID and proof of residence." },
        { id: "deposit", title: "Make a deposit", desc: "Add funds via card or wire." },
        { id: "set-alert", title: "Set 1 price alert", desc: "Get a push when the market moves." },
        { id: "place-demo", title: "Place 1 demo trade", desc: "Test strategy risk-free." },
      ],
    },
    retention: {
      title: "Personal goal",
      subtitle: "Keep the habit: a micro action daily reduces churn.",
      defaultGoal: "Study 15 minutes and place 1 demo trade a day",
      streak: "Streak",
      save: "Save goal",
      reset: "Reset",
      hint: "Tip: set a price alert to be nudged daily.",
    },
    nba: {
      title: "Next best actions",
      subtitle: "Designed for retention",
      actions: [
        { title: "Create 1 price alert", desc: "Pick a watchlist asset and get a push.", cta: "Set alert" },
        { title: "Enable take profit", desc: "Protect gains on open positions.", cta: "Add TP" },
        { title: "Follow a quick course", desc: "3 lessons x 5 min to level up.", cta: "Go to Academy" },
      ],
    },
    dashboard: {
      overview: "Account overview",
      balance: "Balance",
      equity: "Equity",
      freeMargin: "Free margin",
      dailyPL: "Daily P/L",
      deposit: "Deposit",
      newOrder: "New order",
      watchlist: "Watchlist",
      add: "Add",
      positions: "Open positions",
      closeAll: "Close all",
      deposits: "Deposits & withdrawals",
      risk: "Risk management",
      activity: "Recent activity",
    },
    profile: {
      kicker: "User area",
      title: "Profile & preferences",
      subtitle: "Manage identity, security, language and compliance in one place built for daily trading.",
      goToDashboard: "Back to dashboard",
      signOut: "Sign out",
      login: "Log in",
      openAccount: "Open live account",
      signedOut: {
        title: "Sign in to view your profile",
        desc: "Use your work email or the demo profile to unlock preferences and security settings.",
      },
      identity: {
        label: "Identity",
        tier: "Tier",
        statusVerified: "Verified",
        streak: "Streak",
        language: "Language",
        risk: "Risk profile",
        riskValue: "Balanced",
        hint: "Keep contact data fresh and log in daily to maintain your streak and improve retention.",
      },
      security: {
        label: "Security",
        title: "Account controls",
        items: ["2FA on email", "Recognized devices", "Unusual login alerts"],
        cta: "Review security",
      },
      preferences: {
        label: "Preferences",
        title: "Notifications & language",
        items: ["Execution and margin call emails", "Price alert push", "Weekly email report"],
        hint: "Tune notifications so you catch key moves without inbox overload.",
      },
      compliance: {
        label: "Compliance",
        title: "Documents & limits",
        desc: "KYC status, deposit/withdrawal limits and regulatory requirements by your jurisdiction.",
        kyc: "KYC",
        kycValue: "Completed",
        limits: "Limits",
        limitsValue: "10k/day",
      },
      support: {
        label: "Support",
        title: "Need help?",
        desc: "Reach us via live chat, WhatsApp and email with a fast SLA.",
        cta: "Go to support",
      },
    },
    login: {
      pill: "Restricted access",
      typing: ["Welcome to Bullwaves", "Secure access", "Work email required"],
      title: "Sign in",
      subtitle: "Enter your work email to continue. No passwords.",
      emailLabel: "Work email",
      emailPlaceholder: "you@company.com",
      hint: "Only verified emails are accepted.",
      button: "Continue",
      viewList: "Who can log in",
    },
    register: {
      titleLive: "Open a live account",
      subtitleLive: "Fill just a few fields to start trading with transparent conditions.",
      titleDemo: "Try the free demo",
      subtitleDemo: "Reloadable virtual balance, same prices as live, zero risk.",
      name: "Full name",
      email: "Email",
      phone: "Phone (optional)",
      country: "Country of residence",
      password: "Create password",
      balance: "Virtual balance",
      leverage: "Leverage",
      agree: "I accept terms, privacy and risk warning.",
      ctaLive: "Open live account",
      ctaDemo: "Open demo account",
      altDemo: "Prefer to test? Switch to demo",
      altLive: "Ready to go live? Open now",
      highlightFast: "Fast onboarding and smart KYC",
      highlightProtected: "Segregated funds and negative balance protection",
      highlightSupport: "Human support 24/7",
      leverageHint: "Lower leverage to simulate a more conservative profile.",
    },
  },
  es: {
    nav: {
      markets: "Mercados",
      why: "Por qué nosotros",
      accounts: "Cuentas",
      support: "Soporte",
      profile: "Perfil",
      login: "Login",
      demo: "Probar demo",
      open: "Abrir cuenta",
    },
    hero: {
      badge: "Multi licencia. SSL seguro.",
      title: "Navega los mercados con una plataforma rápida, transparente y segura.",
      subtitle:
        "Accede a miles de instrumentos con ejecución rápida, gestión de riesgo integrada e insights en tiempo real. Live y demo siempre a un clic.",
      ctaPrimary: "Abrir cuenta real",
      ctaSecondary: "Probar cuenta demo",
      metrics: {
        licenses: "Licencias globales",
        deposits: "Comisiones de depósito",
        support: "Soporte humano",
      },
    },
    why: {
      title: "Fiabilidad global, experiencia de app moderna.",
      desc: "Spreads transparentes, protección de saldo negativo, fondos segregados e infraestructura de baja latencia. Diseño claro enfocado a conversión.",
      highlights: [
        { label: "+500 instrumentos", desc: "Forex, índices, materias primas, cripto" },
        { label: "0 comisiones de depósito", desc: "Transparencia en costos y spreads" },
        { label: "App premiada", desc: "Alertas, indicadores, sentimiento" },
      ],
    },
    markets: {
      label: "Mercados en vivo",
      title: "Price feed, sentimiento y volúmenes.",
      cta: "Abrir demo",
    },
    accounts: {
      label: "Tipos de cuenta",
      title: "Elige el perfil acorde a tu riesgo.",
      cta: "Abrir cuenta",
      items: [
        { name: "Base", price: "Desde $100", spread: "desde 1.6", leverage: "1:200", stopOut: "50%", badge: "Ideal para empezar" },
        { name: "Pro", price: "Desde $1,000", spread: "desde 0.8", leverage: "1:400", stopOut: "40%", badge: "Para traders activos" },
        { name: "ECN", price: "Desde $5,000", spread: "desde 0.1", leverage: "1:500", stopOut: "25%", badge: "Acceso a spread raw" },
      ],
    },
    demo: {
      label: "Aprende sin riesgo",
      title: "Demo ilimitada con datos en tiempo real.",
      desc: "Practica con saldo ajustable, indicadores avanzados y alertas de precio. Pasa a real manteniendo layouts y watchlists.",
      ctaPrimary: "Abrir demo",
      ctaSecondary: "Descargar app",
    },
    support: {
      label: "Soporte",
      title: "Soporte humano 24/7 y academia.",
      desc: "Chat en vivo, WhatsApp y email, más guías rápidas y videos. Alertas regulatorias y avisos de margen.",
      contact: {
        title: "Contacto rápido",
        lines: ["Chat en vivo con agentes", "WhatsApp y email SLA < 15 min", "Idiomas: IT, EN, ES, FR"],
      },
      edu: {
        title: "Formación",
        lines: ["Academia con rutas básico/avanzado", "Webinars semanales y briefs de mercado", "Demo ilimitada para probar estrategias"],
      },
    },
    journey: {
      label: "Ruta rápida",
      title: "Onboarding guiado",
      steps: [
        { id: "verify", title: "Completa verificación", desc: "Sube documento y prueba de residencia." },
        { id: "deposit", title: "Haz un depósito", desc: "Agrega fondos con tarjeta o transferencia." },
        { id: "set-alert", title: "Configura 1 alerta de precio", desc: "Recibe push cuando el mercado se mueva." },
        { id: "place-demo", title: "Realiza 1 trade demo", desc: "Prueba estrategia sin riesgo." },
      ],
    },
    retention: {
      title: "Objetivo personal",
      subtitle: "Mantén el hábito: una micro acción diaria reduce el churn.",
      defaultGoal: "Estudia 15 min y haz 1 trade demo al día",
      streak: "Racha",
      save: "Guardar objetivo",
      reset: "Reset",
      hint: "Tip: crea una alerta de precio para recordarlo cada día.",
    },
    nba: {
      title: "Siguientes acciones",
      subtitle: "Pensadas para retención",
      actions: [
        { title: "Crea 1 alerta de precio", desc: "Elige un activo y recibe un push.", cta: "Configurar alerta" },
        { title: "Activa take profit", desc: "Protege ganancias en posiciones abiertas.", cta: "Agregar TP" },
        { title: "Sigue un curso rápido", desc: "3 lecciones de 5 min para mejorar.", cta: "Ir a Academy" },
      ],
    },
    dashboard: {
      overview: "Resumen de cuenta",
      balance: "Balance",
      equity: "Equity",
      freeMargin: "Margen libre",
      dailyPL: "P/L diario",
      deposit: "Depositar",
      newOrder: "Nueva orden",
      watchlist: "Watchlist",
      add: "Agregar",
      positions: "Posiciones abiertas",
      closeAll: "Cerrar todas",
      deposits: "Depósitos y retiros",
      risk: "Gestión de riesgo",
      activity: "Actividad reciente",
    },
    login: {
      pill: "Acceso restringido",
      typing: ["Bienvenido a Bullwaves", "Acceso seguro", "Email corporativo requerido"],
      title: "Iniciar sesión",
      subtitle: "Ingresa tu email corporativo para continuar. Sin contraseñas.",
      emailLabel: "Email de trabajo",
      emailPlaceholder: "tu@empresa.com",
      hint: "Solo emails verificados son aceptados.",
      button: "Continuar",
      viewList: "Quién puede entrar",
    },
    register: {
      titleLive: "Abrir cuenta real",
      subtitleLive: "Completa pocos campos para empezar a operar con condiciones transparentes.",
      titleDemo: "Probar la demo gratis",
      subtitleDemo: "Saldo virtual recargable, mismos precios del real, sin riesgo.",
      name: "Nombre y apellido",
      email: "Email",
      phone: "Teléfono (opcional)",
      country: "País de residencia",
      password: "Crear contraseña",
      balance: "Saldo virtual",
      leverage: "Apalancamiento",
      agree: "Acepto términos, privacidad y la advertencia de riesgos.",
      ctaLive: "Abrir cuenta real",
      ctaDemo: "Abrir cuenta demo",
      altDemo: "¿Prefieres probar? Pasa a demo",
      altLive: "¿Listo para real? Abre ahora",
      highlightFast: "Alta rápida y KYC inteligente",
      highlightProtected: "Fondos segregados y protección de saldo negativo",
      highlightSupport: "Soporte humano 24/7",
      leverageHint: "Reduce el apalancamiento para simular un perfil más conservador.",
    },
    profile: {
      kicker: "Area de usuario",
      title: "Perfil y preferencias",
      subtitle: "Gestiona identidad, seguridad, idioma y compliance en un solo lugar pensado para operar a diario.",
      goToDashboard: "Volver al panel",
      signOut: "Cerrar sesion",
      login: "Iniciar sesion",
      openAccount: "Abrir cuenta real",
      signedOut: {
        title: "Inicia sesion para ver tu perfil",
        desc: "Usa tu email de trabajo o el perfil demo para activar preferencias y seguridad.",
      },
      identity: {
        label: "Identidad",
        tier: "Nivel",
        statusVerified: "Verificado",
        streak: "Racha",
        language: "Idioma",
        risk: "Perfil de riesgo",
        riskValue: "Equilibrado",
        hint: "Mantén actualizados los datos y entra a diario para conservar la racha y mejorar la retencion.",
      },
      security: {
        label: "Seguridad",
        title: "Controles de cuenta",
        items: ["2FA en email", "Dispositivos reconocidos", "Alertas de login inusual"],
        cta: "Revisar seguridad",
      },
      preferences: {
        label: "Preferencias",
        title: "Notificaciones e idioma",
        items: ["Emails de ejecucion y margin call", "Push de alertas de precio", "Reporte semanal por email"],
        hint: "Ajusta las notificaciones para no perder movimientos clave sin saturar la bandeja.",
      },
      compliance: {
        label: "Compliance",
        title: "Documentos y limites",
        desc: "Estado KYC, limites de deposito/retiro y requisitos segun tu jurisdiccion.",
        kyc: "KYC",
        kycValue: "Completado",
        limits: "Limites",
        limitsValue: "10k/dia",
      },
      support: {
        label: "Soporte",
        title: "¿Necesitas ayuda?",
        desc: "Contactanos por chat en vivo, WhatsApp o email con SLA rapido.",
        cta: "Ir al soporte",
      },
    },
  },
  fr: {
    nav: {
      markets: "Marchés",
      why: "Pourquoi nous",
      accounts: "Comptes",
      support: "Support",
      dashboard: "Tableau",
      login: "Login",
      demo: "Essayer la démo",
      open: "Ouvrir un compte",
    },
    hero: {
      badge: "Multi-licence. SSL sécurisé.",
      title: "Naviguez les marchés avec une plateforme rapide, transparente et sûre.",
      subtitle:
        "Accédez à des milliers d'instruments avec exécution rapide, outils de risque intégrés et insights temps réel. Live et démo en un clic.",
      ctaPrimary: "Ouvrir un compte live",
      ctaSecondary: "Essayer le compte démo",
      metrics: {
        licenses: "Licences globales",
        deposits: "Frais de dépôt",
        support: "Support humain",
      },
    },
    why: {
      title: "Fiabilité globale, expérience d'app moderne.",
      desc: "Spreads transparents, protection du solde négatif, fonds ségrégués et infra basse latence. Design clair orienté conversion.",
      highlights: [
        { label: "+500 instruments", desc: "Forex, indices, matières premières, crypto" },
        { label: "0 frais de dépôt", desc: "Transparence sur coûts et spreads" },
        { label: "App primée", desc: "Alertes, indicateurs, sentiment" },
      ],
    },
    markets: {
      label: "Marchés live",
      title: "Flux prix, sentiment et volumes.",
      cta: "Ouvrir la démo",
    },
    accounts: {
      label: "Types de compte",
      title: "Choisissez le profil adapté à votre risque.",
      cta: "Ouvrir un compte",
      items: [
        { name: "Base", price: "Dès 100$", spread: "dès 1.6", leverage: "1:200", stopOut: "50%", badge: "Idéal pour commencer" },
        { name: "Pro", price: "Dès 1 000$", spread: "dès 0.8", leverage: "1:400", stopOut: "40%", badge: "Pour traders actifs" },
        { name: "ECN", price: "Dès 5 000$", spread: "dès 0.1", leverage: "1:500", stopOut: "25%", badge: "Accès raw spread" },
      ],
    },
    demo: {
      label: "Apprenez sans risque",
      title: "Démo illimitée avec données temps réel.",
      desc: "Entraînez-vous avec solde ajustable, indicateurs avancés et alertes prix. Passez en live en gardant vos listes et layouts.",
      ctaPrimary: "Ouvrir démo",
      ctaSecondary: "Télécharger l'app",
    },
    support: {
      label: "Support",
      title: "Support humain 24/7 et academy.",
      desc: "Chat live, WhatsApp et email plus guides rapides et vidéos. Alertes régulatoires et notifications de marge.",
      contact: {
        title: "Contact rapide",
        lines: ["Chat live avec humains", "WhatsApp et email SLA < 15 min", "Langues: IT, EN, ES, FR"],
      },
      edu: {
        title: "Formation",
        lines: ["Academy débutant/avancé", "Webinars hebdo et briefs marché", "Démo illimitée pour tester"],
      },
    },
    journey: {
      label: "Parcours rapide",
      title: "Onboarding guidé",
      steps: [
        { id: "verify", title: "Terminer la vérification", desc: "Chargez pièce d'identité et justificatif." },
        { id: "deposit", title: "Effectuer un dépôt", desc: "Ajoutez des fonds via carte ou virement." },
        { id: "set-alert", title: "Placer 1 alerte prix", desc: "Recevez un push quand le marché bouge." },
        { id: "place-demo", title: "Placer 1 trade démo", desc: "Testez sans risque." },
      ],
    },
    retention: {
      title: "Objectif personnel",
      subtitle: "Gardez l'habitude: une micro action quotidienne réduit le churn.",
      defaultGoal: "Étudier 15 min et faire 1 trade démo par jour",
      streak: "Série",
      save: "Sauver l'objectif",
      reset: "Reset",
      hint: "Astuce: mettez une alerte prix pour être rappelé chaque jour.",
    },
    nba: {
      title: "Prochaines actions",
      subtitle: "Pensées pour la rétention",
      actions: [
        { title: "Créer 1 alerte prix", desc: "Choisissez un actif et recevez un push.", cta: "Configurer alerte" },
        { title: "Activer take profit", desc: "Protégez les gains.", cta: "Ajouter TP" },
        { title: "Suivre un mini cours", desc: "3 leçons de 5 min pour progresser.", cta: "Aller à l'Academy" },
      ],
    },
    dashboard: {
      overview: "Vue compte",
      balance: "Solde",
      equity: "Equity",
      freeMargin: "Marge libre",
      dailyPL: "P/L journalier",
      deposit: "Déposer",
      newOrder: "Nouvel ordre",
      watchlist: "Watchlist",
      add: "Ajouter",
      positions: "Positions ouvertes",
      closeAll: "Tout fermer",
      deposits: "Dépôts & retraits",
      risk: "Gestion du risque",
      activity: "Activité récente",
    },
    login: {
      pill: "Accès restreint",
      typing: ["Bienvenue sur Bullwaves", "Accès sécurisé", "Email professionnel requis"],
      title: "Se connecter",
      subtitle: "Entrez votre email pro pour continuer. Pas de mot de passe.",
      emailLabel: "Email professionnel",
      emailPlaceholder: "vous@entreprise.com",
      hint: "Seuls les emails vérifiés sont acceptés.",
      button: "Continuer",
      viewList: "Qui peut se connecter",
    },
    register: {
      titleLive: "Ouvrir un compte live",
      subtitleLive: "Quelques champs pour commencer à trader avec des conditions transparentes.",
      titleDemo: "Essayer la démo gratuite",
      subtitleDemo: "Solde virtuel rechargeable, mêmes prix que le live, zéro risque.",
      name: "Nom complet",
      email: "Email",
      phone: "Téléphone (optionnel)",
      country: "Pays de résidence",
      password: "Créer un mot de passe",
      balance: "Solde virtuel",
      leverage: "Levier",
      agree: "J'accepte les conditions, la confidentialité et l'avertissement de risque.",
      ctaLive: "Ouvrir compte live",
      ctaDemo: "Ouvrir compte démo",
      altDemo: "Préférez tester ? Passez en démo",
      altLive: "Prêt pour le live ? Ouvrez maintenant",
      highlightFast: "Onboarding rapide et KYC smart",
      highlightProtected: "Fonds ségrégués et protection du solde négatif",
      highlightSupport: "Support humain 24/7",
      leverageHint: "Baissez le levier pour simuler un profil conservateur.",
    },
    profile: {
      kicker: "Espace utilisateur",
      title: "Profil et preferences",
      subtitle: "Gerez identite, securite, langue et conformite dans un espace pense pour le trading quotidien.",
      goToDashboard: "Retour au tableau de bord",
      signOut: "Se deconnecter",
      login: "Se connecter",
      openAccount: "Ouvrir un compte",
      signedOut: {
        title: "Connectez-vous pour voir votre profil",
        desc: "Utilisez votre email pro ou le profil demo pour activer preferences et securite.",
      },
      identity: {
        label: "Identite",
        tier: "Niveau",
        statusVerified: "Verifie",
        streak: "Serie",
        language: "Langue",
        risk: "Profil de risque",
        riskValue: "Equilibre",
        hint: "Mettez a jour vos coordonnees et connectez-vous chaque jour pour garder la serie et renforcer la retention.",
      },
      security: {
        label: "Securite",
        title: "Controles du compte",
        items: ["2FA sur email", "Appareils reconnus", "Alertes connexion inhabituelle"],
        cta: "Verifier la securite",
      },
      preferences: {
        label: "Preferences",
        title: "Notifications et langue",
        items: ["Emails d'execution et d'appel de marge", "Push d'alertes prix", "Rapport hebdo par email"],
        hint: "Ajustez les notifications pour suivre les mouvements clefs sans saturer la boite.",
      },
      compliance: {
        label: "Conformite",
        title: "Documents et limites",
        desc: "Statut KYC, limites de depot/retrait et exigences selon votre juridiction.",
        kyc: "KYC",
        kycValue: "Complete",
        limits: "Limites",
        limitsValue: "10k/jour",
      },
      support: {
        label: "Support",
        title: "Besoin d'aide ?",
        desc: "Chat live, WhatsApp et email avec SLA rapide.",
        cta: "Aller au support",
      },
    },
  },
  de: {
    nav: {
      markets: "Märkte",
      why: "Warum wir",
      accounts: "Konten",
      support: "Support",
      dashboard: "Dashboard",
      login: "Login",
      demo: "Demo testen",
      open: "Konto eröffnen",
    },
    hero: {
      badge: "Mehrfach-Lizenz. SSL gesichert.",
      title: "Navigiere die Märkte mit einer schnellen, transparenten und sicheren Plattform.",
      subtitle:
        "Greife auf tausende Instrumente zu mit schneller Ausführung, integrierten Risikotools und Echtzeit-Insights. Live und Demo immer nur einen Klick entfernt.",
      ctaPrimary: "Live-Konto eröffnen",
      ctaSecondary: "Demo-Konto testen",
      metrics: {
        licenses: "Globale Lizenzen",
        deposits: "Einzahlungsgebühren",
        support: "Menschlicher Support",
      },
    },
    why: {
      title: "Globale Zuverlässigkeit, moderne App-Experience.",
      desc: "Transparente Spreads, Negativsaldoschutz, segregierte Gelder und Low-Latency-Infra. Klarer, conversion-orientierter Aufbau.",
      highlights: [
        { label: "+500 Instrumente", desc: "Forex, Indizes, Rohstoffe, Krypto" },
        { label: "0 Einzahlungsgebühren", desc: "Transparenz bei Kosten und Spreads" },
        { label: "Ausgezeichnete App", desc: "Alerts, Indikatoren, Sentiment" },
      ],
    },
    markets: {
      label: "Live-Märkte",
      title: "Preisfeed, Sentiment und Volumen.",
      cta: "Demo öffnen",
    },
    accounts: {
      label: "Kontotypen",
      title: "Wähle das Profil passend zu deinem Risiko.",
      cta: "Konto eröffnen",
      items: [
        { name: "Base", price: "Ab 100$", spread: "ab 1.6", leverage: "1:200", stopOut: "50%", badge: "Ideal zum Start" },
        { name: "Pro", price: "Ab 1.000$", spread: "ab 0.8", leverage: "1:400", stopOut: "40%", badge: "Für aktive Trader" },
        { name: "ECN", price: "Ab 5.000$", spread: "ab 0.1", leverage: "1:500", stopOut: "25%", badge: "Raw-Spread-Zugang" },
      ],
    },
    demo: {
      label: "Risikofrei lernen",
      title: "Unlimitierte Demo mit Echtzeitdaten.",
      desc: "Übe mit anpassbarem Saldo, Advanced-Indikatoren und Preisalerts. Wechsel zu Live und behalte Layouts & Watchlists.",
      ctaPrimary: "Demo öffnen",
      ctaSecondary: "App herunterladen",
    },
    support: {
      label: "Support",
      title: "Menschlicher Support 24/7 und Academy.",
      desc: "Livechat, WhatsApp und E-Mail plus Quick-Guides und Videos. Reg-Alerts und Margin-Benachrichtigungen.",
      contact: {
        title: "Schneller Kontakt",
        lines: ["Livechat mit Menschen", "WhatsApp und E-Mail SLA < 15 min", "Sprachen: IT, EN, ES, FR"],
      },
      edu: {
        title: "Education",
        lines: ["Academy für Einsteiger/Profis", "Wöchentliche Webinare & Marktbriefs", "Unlimitierte Demo zum Testen"],
      },
    },
    journey: {
      label: "Schneller Pfad",
      title: "Geführtes Onboarding",
      steps: [
        { id: "verify", title: "Verifizierung abschließen", desc: "Ausweis und Adressnachweis hochladen." },
        { id: "deposit", title: "Eine Einzahlung tätigen", desc: "Guthaben per Karte oder Überweisung." },
        { id: "set-alert", title: "1 Preisalert setzen", desc: "Push erhalten, wenn der Markt sich bewegt." },
        { id: "place-demo", title: "1 Demo-Trade platzieren", desc: "Strategie risikofrei testen." },
      ],
    },
    retention: {
      title: "Persönliches Ziel",
      subtitle: "Gewohnheit halten: eine Mikro-Aktion täglich senkt Churn.",
      defaultGoal: "15 Min lernen und 1 Demo-Trade pro Tag",
      streak: "Serie",
      save: "Ziel speichern",
      reset: "Reset",
      hint: "Tipp: Setze einen Preisalert für tägliche Erinnerung.",
    },
    nba: {
      title: "Nächste beste Aktionen",
      subtitle: "Für Retention gebaut",
      actions: [
        { title: "1 Preisalert erstellen", desc: "Watchlist-Asset wählen und Push erhalten.", cta: "Alert setzen" },
        { title: "Take Profit aktivieren", desc: "Gewinne auf offenen Positionen schützen.", cta: "TP hinzufügen" },
        { title: "Kurz-Kurs folgen", desc: "3x5 Min Lektionen für Level-up.", cta: "Zur Academy" },
      ],
    },
    dashboard: {
      overview: "Konto-Übersicht",
      balance: "Kontostand",
      equity: "Eigenkapital",
      freeMargin: "Freie Marge",
      dailyPL: "Tages-P/L",
      deposit: "Einzahlen",
      newOrder: "Neue Order",
      watchlist: "Watchlist",
      add: "Hinzufügen",
      positions: "Offene Positionen",
      closeAll: "Alle schließen",
      deposits: "Ein- & Auszahlungen",
      risk: "Risikomanagement",
      activity: "Letzte Aktivität",
    },
    login: {
      pill: "Eingeschränkter Zugriff",
      typing: ["Willkommen bei Bullwaves", "Sicherer Zugriff", "Arbeits-E-Mail erforderlich"],
      title: "Anmelden",
      subtitle: "Arbeits-E-Mail eingeben, kein Passwort nötig.",
      emailLabel: "Arbeits-E-Mail",
      emailPlaceholder: "du@firma.com",
      hint: "Nur verifizierte E-Mails werden akzeptiert.",
      button: "Weiter",
      viewList: "Wer kann sich einloggen",
    },
    register: {
      titleLive: "Live-Konto eröffnen",
      subtitleLive: "Wenige Felder ausfüllen und mit klaren Konditionen starten.",
      titleDemo: "Kostenlose Demo testen",
      subtitleDemo: "Aufladbares virtuelles Guthaben, gleiche Preise wie live, null Risiko.",
      name: "Vollständiger Name",
      email: "E-Mail",
      phone: "Telefon (optional)",
      country: "Wohnsitzland",
      password: "Passwort erstellen",
      balance: "Virtuelles Guthaben",
      leverage: "Hebel",
      agree: "Ich akzeptiere AGB, Datenschutz und Risikohinweis.",
      ctaLive: "Live-Konto eröffnen",
      ctaDemo: "Demo-Konto eröffnen",
      altDemo: "Lieber testen? Zur Demo",
      altLive: "Bereit für live? Jetzt eröffnen",
      highlightFast: "Schnelles Onboarding & smartes KYC",
      highlightProtected: "Segregierte Gelder & Negativsaldoschutz",
      highlightSupport: "Menschlicher Support 24/7",
      leverageHint: "Hebel senken für konservativeres Profil.",
    },
    profile: {
      kicker: "Benutzerbereich",
      title: "Profil und Einstellungen",
      subtitle: "Verwalte Identitat, Sicherheit, Sprache und Compliance an einem Ort, optimiert fur den Alltagstrade.",
      goToDashboard: "Zurück zum Dashboard",
      signOut: "Abmelden",
      login: "Anmelden",
      openAccount: "Live-Konto eröffnen",
      signedOut: {
        title: "Melde dich an, um dein Profil zu sehen",
        desc: "Nutze deine Arbeits-E-Mail oder das Demoprofil, um Einstellungen und Sicherheit zu aktivieren.",
      },
      identity: {
        label: "Identität",
        tier: "Tier",
        statusVerified: "Verifiziert",
        streak: "Streak",
        language: "Sprache",
        risk: "Risikoprofil",
        riskValue: "Ausgewogen",
        hint: "Halte Kontaktdaten aktuell und logge dich täglich ein, um die Streak zu bewahren und die Bindung zu erhöhen.",
      },
      security: {
        label: "Sicherheit",
        title: "Kontrollen",
        items: ["2FA auf E-Mail", "Erkannte Geräte", "Warnungen bei ungewohnten Logins"],
        cta: "Sicherheit prüfen",
      },
      preferences: {
        label: "Einstellungen",
        title: "Benachrichtigungen & Sprache",
        items: ["E-Mails zu Ausführungen und Margin Calls", "Push bei Preisalarmen", "Wochentlicher E-Mail-Report"],
        hint: "Feinjustiere Benachrichtigungen, damit du Bewegungen siehst ohne Postfach-Flut.",
      },
      compliance: {
        label: "Compliance",
        title: "Dokumente & Limits",
        desc: "KYC-Status, Ein-/Auszahlungslimits und regulatorische Vorgaben nach Region.",
        kyc: "KYC",
        kycValue: "Abgeschlossen",
        limits: "Limits",
        limitsValue: "10k/Tag",
      },
      support: {
        label: "Support",
        title: "Brauchen Sie Hilfe?",
        desc: "Live-Chat, WhatsApp und E-Mail mit schneller SLA.",
        cta: "Zum Support",
      },
    },
  },
};

const I18nContext = createContext<I18nShape | undefined>(undefined);

export const I18nProvider = ({ children }: { children: ReactNode }) => {
  const [lang, setLang] = useLocalStorage<Locale>("vt:lang", "it");

  const value = useMemo<I18nShape>(
    () => ({ lang, setLang, t: translations[lang], available: Object.keys(translations) as Locale[] }),
    [lang]
  );

  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;
};

export const useI18n = () => {
  const ctx = useContext(I18nContext);
  if (!ctx) throw new Error("useI18n must be used within I18nProvider");
  return ctx;
};
